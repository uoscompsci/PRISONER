

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>prisoner.gateway package &mdash; PRISONER 0.2.3 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  

  
    <link rel="top" title="PRISONER 0.2.3 documentation" href="index.html"/>
        <link rel="up" title="prisoner package" href="prisoner.html"/>
        <link rel="next" title="prisoner.gateway.tests package" href="prisoner.gateway.tests.html"/>
        <link rel="prev" title="prisoner package" href="prisoner.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="index.html">
        

        
          
          <img src="_static/prisoner-logo.png" class="logo" />
        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials.keyconcepts.html">Key concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.demo.html">Running the PRISONER demo</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials.demo.html#prerequisites">Prerequisites</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials.demo.html#facebook-app">Facebook app</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials.demo.html#docker">Docker</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tutorials.demo.html#start-the-docker-container">Start the Docker container</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials.demo.html#running-the-demo">Running the demo</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials.demo.html#modifying-the-demo">Modifying the demo</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.gettingstarted.html">Installing PRISONER</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials.gettingstarted.html#installing-prisoner-for-local-development">Installing PRISONER for local development</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials.gettingstarted.html#spin-up-a-docker-vm">Spin-up a Docker VM</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials.gettingstarted.html#clone-from-github">Clone from GitHub</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.helloworld.html">Writing your first experiment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials.helloworld.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials.helloworld.html#in-this-tutorial">In this tutorial</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials.helloworld.html#privacy-policies">Privacy policies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials.helloworld.html#writing-the-privacy-policy">Writing the privacy policy</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="prisoner.html">prisoner package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="prisoner.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="">prisoner.gateway package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-prisoner.gateway.FacebookGateway">prisoner.gateway.FacebookGateway module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-prisoner.gateway.LastfmGateway">prisoner.gateway.LastfmGateway module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-prisoner.gateway.ServiceGateway">prisoner.gateway.ServiceGateway module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-prisoner.gateway.TwitterGateway">prisoner.gateway.TwitterGateway module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-prisoner.gateway">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="prisoner.persistence.html">prisoner.persistence package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="prisoner.persistence.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="prisoner.persistence.html#module-prisoner.persistence.PersistenceManager">prisoner.persistence.PersistenceManager module</a></li>
<li class="toctree-l4"><a class="reference internal" href="prisoner.persistence.html#module-prisoner.persistence">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="prisoner.server.html">prisoner.server package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="prisoner.server.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="prisoner.server.html#module-prisoner.server.webservice">prisoner.server.webservice module</a></li>
<li class="toctree-l4"><a class="reference internal" href="prisoner.server.html#module-prisoner.server">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="prisoner.tests.html">prisoner.tests package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="prisoner.tests.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="prisoner.tests.html#module-prisoner.tests.tests">prisoner.tests.tests module</a></li>
<li class="toctree-l4"><a class="reference internal" href="prisoner.tests.html#module-prisoner.tests">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="prisoner.workflow.html">prisoner.workflow package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="prisoner.workflow.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="prisoner.workflow.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="prisoner.workflow.html#module-prisoner.workflow.Exceptions">prisoner.workflow.Exceptions module</a></li>
<li class="toctree-l4"><a class="reference internal" href="prisoner.workflow.html#module-prisoner.workflow.ExperimentBuilder">prisoner.workflow.ExperimentBuilder module</a></li>
<li class="toctree-l4"><a class="reference internal" href="prisoner.workflow.html#prisoner-workflow-policydocumentgenerator-module">prisoner.workflow.PolicyDocumentGenerator module</a></li>
<li class="toctree-l4"><a class="reference internal" href="prisoner.workflow.html#module-prisoner.workflow.PolicyProcessor">prisoner.workflow.PolicyProcessor module</a></li>
<li class="toctree-l4"><a class="reference internal" href="prisoner.workflow.html#module-prisoner.workflow.SocialObjectGateway">prisoner.workflow.SocialObjectGateway module</a></li>
<li class="toctree-l4"><a class="reference internal" href="prisoner.workflow.html#module-prisoner.workflow">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="prisoner.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="prisoner.html#module-prisoner.SocialObjects">prisoner.SocialObjects module</a></li>
<li class="toctree-l2"><a class="reference internal" href="prisoner.html#module-prisoner">Module contents</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">PRISONER</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="prisoner.html">prisoner package</a> &raquo;</li>
      
    <li>prisoner.gateway package</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/prisoner.gateway.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="prisoner-gateway-package">
<h1>prisoner.gateway package<a class="headerlink" href="#prisoner-gateway-package" title="Permalink to this headline">Â¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">Â¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="prisoner.gateway.tests.html">prisoner.gateway.tests package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="prisoner.gateway.tests.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="prisoner.gateway.tests.html#module-prisoner.gateway.tests.FacebookGatewayTests">prisoner.gateway.tests.FacebookGatewayTests module</a></li>
<li class="toctree-l2"><a class="reference internal" href="prisoner.gateway.tests.html#module-prisoner.gateway.tests.LastfmGatewayTests">prisoner.gateway.tests.LastfmGatewayTests module</a></li>
<li class="toctree-l2"><a class="reference internal" href="prisoner.gateway.tests.html#prisoner-gateway-tests-socialgatewaytests-module">prisoner.gateway.tests.SocialGatewayTests module</a></li>
<li class="toctree-l2"><a class="reference internal" href="prisoner.gateway.tests.html#module-prisoner.gateway.tests">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">Â¶</a></h2>
</div>
<div class="section" id="module-prisoner.gateway.FacebookGateway">
<span id="prisoner-gateway-facebookgateway-module"></span><h2>prisoner.gateway.FacebookGateway module<a class="headerlink" href="#module-prisoner.gateway.FacebookGateway" title="Permalink to this headline">Â¶</a></h2>
<p>The Facebook Service Gateway allows you to access Facebook from PRISONER experiments. In order to use Facebook, you must register an app with the Facebook Developers porta and provide three additional props
in your experimental design file. The app_id and app_secret props correspond to the values for your app, and the api_version prop dictates which version of the Facebook API your experiment targets. At this time, only &#8220;2.0&#8221; is an acceptable API version.</p>
<dl class="class">
<dt id="prisoner.gateway.FacebookGateway.Album">
<em class="property">class </em><code class="descclassname">prisoner.gateway.FacebookGateway.</code><code class="descname">Album</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Album" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="prisoner.html#prisoner.SocialObjects.SocialObject" title="prisoner.SocialObjects.SocialObject"><code class="xref py py-class docutils literal"><span class="pre">prisoner.SocialObjects.SocialObject</span></code></a></p>
<p>Representation of an album object on Facebook.
Albums are created by users or apps and have a number of key attributes such as privacy and count.
Albums also have a cover photo and a type. Once you have an album&#8217;s ID, you can then use Photo() to retreive
the photos it contains.</p>
<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.Album.albumType">
<code class="descname">albumType</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Album.albumType" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The album&#8217;s type. (Eg: Wall, Mobile)</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.Album.comments">
<code class="descname">comments</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Album.comments" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The comments on this photo album.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.Album.count">
<code class="descname">count</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Album.count" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The number of photos in this album.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.Album.coverPhoto">
<code class="descname">coverPhoto</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Album.coverPhoto" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This album&#8217;s cover photo.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.Album.likes">
<code class="descname">likes</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Album.likes" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The people who&#8217;ve liked this album.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.Album.photos">
<code class="descname">photos</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Album.photos" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The images in the album.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.Album.privacy">
<code class="descname">privacy</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Album.privacy" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The privacy setting for this album.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="prisoner.gateway.FacebookGateway.Albums">
<em class="property">class </em><code class="descclassname">prisoner.gateway.FacebookGateway.</code><code class="descname">Albums</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Albums" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="prisoner.html#prisoner.SocialObjects.Collection" title="prisoner.SocialObjects.Collection"><code class="xref py py-class docutils literal"><span class="pre">prisoner.SocialObjects.Collection</span></code></a></p>
<p>Lightweight collection class for representing collections of albums.</p>
</dd></dl>

<dl class="class">
<dt id="prisoner.gateway.FacebookGateway.Book">
<em class="property">class </em><code class="descclassname">prisoner.gateway.FacebookGateway.</code><code class="descname">Book</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Book" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#prisoner.gateway.FacebookGateway.Page" title="prisoner.gateway.FacebookGateway.Page"><code class="xref py py-class docutils literal"><span class="pre">prisoner.gateway.FacebookGateway.Page</span></code></a></p>
<p>Stub for representing music.</p>
</dd></dl>

<dl class="class">
<dt id="prisoner.gateway.FacebookGateway.Checkin">
<em class="property">class </em><code class="descclassname">prisoner.gateway.FacebookGateway.</code><code class="descname">Checkin</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Checkin" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="prisoner.html#prisoner.SocialObjects.SocialObject" title="prisoner.SocialObjects.SocialObject"><code class="xref py py-class docutils literal"><span class="pre">prisoner.SocialObjects.SocialObject</span></code></a></p>
<p>Representation of a check-in.
A Facebook user can be determined to have been somewhere if they explicitly said they were there in a status,
or have been tagged in a photo that is also tagged with that location.
As well as containing basic information such as where the check-in is for and who the user was with, a check-in object
also contains a &#8220;Type&#8221; attribute that specifies how the check-in was determined. (Eg: Status, Photo...)</p>
<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.Checkin.checkinType">
<code class="descname">checkinType</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Checkin.checkinType" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This check-in&#8217;s type. (Eg: Status, Photo)</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.Checkin.image">
<code class="descname">image</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Checkin.image" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="prisoner.gateway.FacebookGateway.Checkins">
<em class="property">class </em><code class="descclassname">prisoner.gateway.FacebookGateway.</code><code class="descname">Checkins</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Checkins" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="prisoner.html#prisoner.SocialObjects.Collection" title="prisoner.SocialObjects.Collection"><code class="xref py py-class docutils literal"><span class="pre">prisoner.SocialObjects.Collection</span></code></a></p>
<p>Lightweight collection class for representing collections of check-ins.</p>
</dd></dl>

<dl class="class">
<dt id="prisoner.gateway.FacebookGateway.Comment">
<em class="property">class </em><code class="descclassname">prisoner.gateway.FacebookGateway.</code><code class="descname">Comment</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Comment" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="prisoner.html#prisoner.SocialObjects.Note" title="prisoner.SocialObjects.Note"><code class="xref py py-class docutils literal"><span class="pre">prisoner.SocialObjects.Note</span></code></a></p>
<p>Representation of a comment object on Facebook.
Comments are typically short replies / notes on objects such as statuses, photos, check-ins or just about any
other Facebook object. Comments consist of their content, an author a published date and a permalink.</p>
</dd></dl>

<dl class="class">
<dt id="prisoner.gateway.FacebookGateway.Comments">
<em class="property">class </em><code class="descclassname">prisoner.gateway.FacebookGateway.</code><code class="descname">Comments</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Comments" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="prisoner.html#prisoner.SocialObjects.Collection" title="prisoner.SocialObjects.Collection"><code class="xref py py-class docutils literal"><span class="pre">prisoner.SocialObjects.Collection</span></code></a></p>
<p>Lightweight collection class for representing collections of comments.</p>
</dd></dl>

<dl class="class">
<dt id="prisoner.gateway.FacebookGateway.FacebookServiceGateway">
<em class="property">class </em><code class="descclassname">prisoner.gateway.FacebookGateway.</code><code class="descname">FacebookServiceGateway</code><span class="sig-paren">(</span><em>access_token=None</em>, <em>props={}</em>, <em>policy=None</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.FacebookGateway.FacebookServiceGateway" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#prisoner.gateway.ServiceGateway.ServiceGateway" title="prisoner.gateway.ServiceGateway.ServiceGateway"><code class="xref py py-class docutils literal"><span class="pre">prisoner.gateway.ServiceGateway.ServiceGateway</span></code></a></p>
<p>Service gateway for Facebook.
This gateway interacts with Facebook directly by making calls via the network&#8217;s Social Graph API.</p>
<dl class="method">
<dt id="prisoner.gateway.FacebookGateway.FacebookServiceGateway.Album">
<code class="descname">Album</code><span class="sig-paren">(</span><em>operation</em>, <em>payload</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.FacebookGateway.FacebookServiceGateway.Album" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Performs operations on a user&#8217;s photo albums.
Currently only supports GET operations. This lets us retrieve a list of photo albums associated with the
supplied payload ID.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>operation</strong> (<em>str</em>) &#8211; The operation to perform. (GET)</li>
<li><strong>payload</strong> (<a class="reference internal" href="prisoner.html#prisoner.SocialObjects.Person" title="prisoner.SocialObjects.Person"><em>Person</em></a>) &#8211; A User() or Person() whose ID is either a Facebook UID or username.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A collection representing this person / object&#8217;s photo albums.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.FacebookGateway.FacebookServiceGateway.Book">
<code class="descname">Book</code><span class="sig-paren">(</span><em>operation</em>, <em>payload</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.FacebookGateway.FacebookServiceGateway.Book" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Performs operations relating to people&#8217;s taste in books and literature.
Currently only supports GET operations. This lets us get the books / authors people are into.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>operation</strong> (<em>str</em>) &#8211; The operation to perform. (GET)</li>
<li><strong>payload</strong> (<a class="reference internal" href="prisoner.html#prisoner.SocialObjects.SocialObject" title="prisoner.SocialObjects.SocialObject"><em>SocialObject</em></a>) &#8211; A User() or Person() whose ID is either a Facebook UID or username.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A list of the books this person likes.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.FacebookGateway.FacebookServiceGateway.Checkin">
<code class="descname">Checkin</code><span class="sig-paren">(</span><em>operation</em>, <em>payload</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.FacebookGateway.FacebookServiceGateway.Checkin" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Performs operations on check-ins / objects with location.
Currently only supports GET operations. This lets us retrieve a list of places the supplied User()
or Person() has been.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>operation</strong> (<em>str</em>) &#8211; The operation to perform. (GET)</li>
<li><strong>payload</strong> (<a class="reference internal" href="prisoner.html#prisoner.SocialObjects.SocialObject" title="prisoner.SocialObjects.SocialObject"><em>SocialObject</em></a>) &#8211; The User() or Person() object to retrieve check-in information for.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A collection of objects representing check-ins.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.FacebookGateway.FacebookServiceGateway.Friends">
<code class="descname">Friends</code><span class="sig-paren">(</span><em>operation</em>, <em>payload</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.FacebookGateway.FacebookServiceGateway.Friends" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Performs operations on a user&#8217;s friends.
Only supports GET operations. This lets us retrieve someone&#8217;s entire friends list.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>operation</strong> (<em>str</em>) &#8211; The operation to perform. (GET)</li>
<li><strong>payload</strong> (<a class="reference internal" href="prisoner.html#prisoner.SocialObjects.Person" title="prisoner.SocialObjects.Person"><em>Person</em></a>) &#8211; A User() or Person() whose ID is either a Facebook UID or username.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A collection representing this person&#8217;s friends list.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.FacebookGateway.FacebookServiceGateway.Like">
<code class="descname">Like</code><span class="sig-paren">(</span><em>operation</em>, <em>payload</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.FacebookGateway.FacebookServiceGateway.Like" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns a user&#8217;s liked pages.
Only supports GET operations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>operation</strong> (<em>str</em>) &#8211; The operation to perform. (GET)</li>
<li><strong>payload</strong> (<a class="reference internal" href="prisoner.html#prisoner.SocialObjects.SocialObject" title="prisoner.SocialObjects.SocialObject"><em>SocialObject</em></a>) &#8211; A User() or Person() whose ID is either a Facebook UID or username.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A list of pages this person likes.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.FacebookGateway.FacebookServiceGateway.Movie">
<code class="descname">Movie</code><span class="sig-paren">(</span><em>operation</em>, <em>payload</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.FacebookGateway.FacebookServiceGateway.Movie" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Performs operations relating to people&#8217;s taste in films.
Currently only supports GET operations. This lets us retrieve the movies / films people like.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>operation</strong> (<em>str</em>) &#8211; The operation to perform. (GET)</li>
<li><strong>payload</strong> (<a class="reference internal" href="prisoner.html#prisoner.SocialObjects.SocialObject" title="prisoner.SocialObjects.SocialObject"><em>SocialObject</em></a>) &#8211; A User() or Person() whose ID is either a Facebook UID or username.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A list of the movies this person likes.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.FacebookGateway.FacebookServiceGateway.Music">
<code class="descname">Music</code><span class="sig-paren">(</span><em>operation</em>, <em>payload</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.FacebookGateway.FacebookServiceGateway.Music" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Performs operations relating to people&#8217;s musical tastes.
Currently only supports GET operations, so we can just get the bands a person / user likes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>operation</strong> (<em>str</em>) &#8211; The operation to perform. (GET)</li>
<li><strong>payload</strong> (<a class="reference internal" href="prisoner.html#prisoner.SocialObjects.SocialObject" title="prisoner.SocialObjects.SocialObject"><em>SocialObject</em></a>) &#8211; A User() or Person() whose ID is either a Facebook UID or username.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A list of the bands this person likes.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.FacebookGateway.FacebookServiceGateway.Photo">
<code class="descname">Photo</code><span class="sig-paren">(</span><em>operation</em>, <em>payload</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.FacebookGateway.FacebookServiceGateway.Photo" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Performs operations on images.
Currently only supports GET operations. This lets us retrieve the photos associated with the supplied
payload&#8217;s ID. This will commonly be an Album() to get the photos in said album, or a User() / Person()
to get any photos they&#8217;re tagged in.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>operation</strong> (<em>str</em>) &#8211; The operation to perform. (GET)</li>
<li><strong>payload</strong> (<a class="reference internal" href="prisoner.html#prisoner.SocialObjects.SocialObject" title="prisoner.SocialObjects.SocialObject"><em>SocialObject</em></a>) &#8211; The Facebook object to retrieve associated photos for.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A collection representing photos associated with the supplied object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.FacebookGateway.FacebookServiceGateway.Session">
<code class="descname">Session</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.FacebookGateway.FacebookServiceGateway.Session" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The Facebook session exposes the authenticated user as an instance of User().
Can also be accessed in the same way as Person() as this class simply extends it.</p>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.FacebookGateway.FacebookServiceGateway.Status">
<code class="descname">Status</code><span class="sig-paren">(</span><em>operation</em>, <em>payload</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.FacebookGateway.FacebookServiceGateway.Status" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Performs operations on a user&#8217;s status updates.
Currently only supports GET operations. This lets us retrieve a user&#8217;s entire backlog of status updates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>operation</strong> (<em>str</em>) &#8211; The operation to perform. (GET)</li>
<li><strong>payload</strong> (<a class="reference internal" href="prisoner.html#prisoner.SocialObjects.SocialObject" title="prisoner.SocialObjects.SocialObject"><em>SocialObject</em></a>) &#8211; A User() or Person() whose ID is either a Facebook UID or username.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A collection representing this person&#8217;s backlog of status updates.</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>For POST payloads:</dt>
<dd>payload must be a dictionary with all mandatory (and any optional) fields of a Status object}</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.FacebookGateway.FacebookServiceGateway.User">
<code class="descname">User</code><span class="sig-paren">(</span><em>operation</em>, <em>payload</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.FacebookGateway.FacebookServiceGateway.User" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Performs operations relating to people&#8217;s profile information.
Currently only supports GET operations. This allows us to, given a suitable payload such as a Person() or
User() object, retrieve the information they have added to Facebook. (Eg: Full name, education, religion...)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>operation</strong> (<em>str</em>) &#8211; The operation to perform. (GET)</li>
<li><strong>payload</strong> (<a class="reference internal" href="prisoner.html#prisoner.SocialObjects.SocialObject" title="prisoner.SocialObjects.SocialObject"><em>SocialObject</em></a>) &#8211; A Person() or User() object whose ID is either a Facebook UID or username.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A User() object with all available attributes populated.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.FacebookGateway.FacebookServiceGateway.complete_authentication">
<code class="descname">complete_authentication</code><span class="sig-paren">(</span><em>request</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.FacebookGateway.FacebookServiceGateway.complete_authentication" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Completes authentication. Extracts the &#8220;code&#8221; param that Facebook provided and exchanges it for an
access token so we can make authenticated calls on behalf of the user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>request</strong> (<em>HTTPRequest</em>) &#8211; Response from the first stage of authentication.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Unique access token that should persist for this user.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.FacebookGateway.FacebookServiceGateway.generate_permissions_list">
<code class="descname">generate_permissions_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.FacebookGateway.FacebookServiceGateway.generate_permissions_list" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Generates a list of permissions based on the experiment&#8217;s privacy policy.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">List of permissions</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.FacebookGateway.FacebookServiceGateway.get_comments">
<code class="descname">get_comments</code><span class="sig-paren">(</span><em>object_id</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.FacebookGateway.FacebookServiceGateway.get_comments" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Internal function.
Takes a JSON Facebook object and returns a list of the comments on it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>facebook_obj</strong> (<em>Dict</em>) &#8211; The Facebook object to get comments on.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A list representing the comments on this object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.FacebookGateway.FacebookServiceGateway.get_graph_data">
<code class="descname">get_graph_data</code><span class="sig-paren">(</span><em>query</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.FacebookGateway.FacebookServiceGateway.get_graph_data" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Internal function.
Queries Facebook&#8217;s Graph API and returns the result as a dict.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>query</strong> (<em>str</em>) &#8211; The Graph API query to perform. (Eg: /me/picture?access_token=...)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A Dict containing the parsed JSON response from Facebook. Attributes are accessed through their name.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.FacebookGateway.FacebookServiceGateway.get_likes">
<code class="descname">get_likes</code><span class="sig-paren">(</span><em>object_id</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.FacebookGateway.FacebookServiceGateway.get_likes" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Internal function.
Takes a JSON Facebook object and returns a list of the people who&#8217;ve liked it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>facebook_obj</strong> (<em>Dict</em>) &#8211; The Facebook object to get likes for.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A list representing the people / users that have liked this object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.FacebookGateway.FacebookServiceGateway.get_value">
<code class="descname">get_value</code><span class="sig-paren">(</span><em>haystack</em>, <em>needle</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.FacebookGateway.FacebookServiceGateway.get_value" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Internal function.
Attempts to get the value corresponding to the supplied key.
If no key exists, None is returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>haystack</strong> &#8211; The Dictionary object to look at.</li>
<li><strong>needle</strong> &#8211; The key we&#8217;re looking for.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">If the key exists, its corresponding value is returned. Otherwise None is returned.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.FacebookGateway.FacebookServiceGateway.parse_comments">
<code class="descname">parse_comments</code><span class="sig-paren">(</span><em>facebook_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.FacebookGateway.FacebookServiceGateway.parse_comments" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Internal function.
Takes a JSON Facebook object and returns a list of the comments on it.
Note that this function just PARSES. It does not attempt to retrieve all the comments on the given
object. This means it has a limit of around 25 comments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>facebook_obj</strong> (<em>Dict</em>) &#8211; The Facebook object to get comments on.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A list representing the comments on this object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.FacebookGateway.FacebookServiceGateway.parse_json">
<code class="descname">parse_json</code><span class="sig-paren">(</span><em>json_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.FacebookGateway.FacebookServiceGateway.parse_json" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Internal function.
Takes a JSON object as returned by Facebook and returns the Dict representation of it.
Avoids having to call json.loads(?) everywhere, and allows for potential improvements in the future.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>json_obj</strong> (<em>str, list</em>) &#8211; The JSON object to parse.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A Dict object representing the supplied JSON.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.FacebookGateway.FacebookServiceGateway.parse_likes">
<code class="descname">parse_likes</code><span class="sig-paren">(</span><em>facebook_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.FacebookGateway.FacebookServiceGateway.parse_likes" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Internal function.
Takes a JSON Facebook object and returns a list of the people who&#8217;ve liked it.
Note that this function just PARSES. It does not attempt to retrieve all the likes for the given
object. This means it has a limit of around 25 likes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>facebook_obj</strong> (<em>Dict</em>) &#8211; The Facebook object to get likes for.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A list representing the people / users that have liked this object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.FacebookGateway.FacebookServiceGateway.parse_location">
<code class="descname">parse_location</code><span class="sig-paren">(</span><em>facebook_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.FacebookGateway.FacebookServiceGateway.parse_location" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Internal function.
Takes a JSON Facebook object and returns a Place object representing its location.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>facebook_obj</strong> (<em>Dict</em>) &#8211; The Facebook object to get the location of.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A Place() object representing the location of the supplied object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.FacebookGateway.FacebookServiceGateway.parse_tags">
<code class="descname">parse_tags</code><span class="sig-paren">(</span><em>facebook_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.FacebookGateway.FacebookServiceGateway.parse_tags" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Internal function.
Takes a JSON Facebook object and returns a list of the objects that have been tagged
in it. (Usually people)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>facebook_obj</strong> (<em>Dict</em>) &#8211; The Facebook object to get tags for.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A list representing the people / objects that were tagged in the supplied object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.FacebookGateway.FacebookServiceGateway.post_graph_data">
<code class="descname">post_graph_data</code><span class="sig-paren">(</span><em>query</em>, <em>params</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.FacebookGateway.FacebookServiceGateway.post_graph_data" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Internal Function.
Post the params dictionary to the given query path on the Graph API
Use for creating, deleting, updating content
All calls must be authenticated</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>query</strong> (<em>str</em>) &#8211; Graph API query to perform</li>
<li><strong>params</strong> (<em>dict</em>) &#8211; Dictionary of data to publish to this endpoint</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.FacebookGateway.FacebookServiceGateway.request_authentication">
<code class="descname">request_authentication</code><span class="sig-paren">(</span><em>callback</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.FacebookGateway.FacebookServiceGateway.request_authentication" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Initiates Facebook&#8217;s authentication process.
Returns a URI at which the user can confirm access to their profile by the application.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>callback</strong> &#8211; PRISONER&#8217;s authentication flow URL. User must be redirected here after registering with Facebook</td>
</tr>
</tbody>
</table>
<p>in order to continue the flow.
:type callback: str
:return: URI the user must visit in order to authenticate.</p>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.FacebookGateway.FacebookServiceGateway.request_handler">
<code class="descname">request_handler</code><span class="sig-paren">(</span><em>request</em>, <em>operation</em>, <em>payload</em>, <em>extra_args=None</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.FacebookGateway.FacebookServiceGateway.request_handler" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Wrapper around object requests. Used to inject any necessary debug headers</p>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.FacebookGateway.FacebookServiceGateway.restore_authentication">
<code class="descname">restore_authentication</code><span class="sig-paren">(</span><em>access_token</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.FacebookGateway.FacebookServiceGateway.restore_authentication" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Provides a mechanism to restore a session. (Essentially refresh an access token)
Facebook does not allow access tokens to be refreshed. However, if the user is forced to go through the
authentication process again, it will be done transparently so long as the PRISONER app has not requested
additional permissions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>access_token</strong> (<em>str</em>) &#8211; The current access token held for this user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">False, thus forcing the authentication process to take place again. (Transparently)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.FacebookGateway.FacebookServiceGateway.str_to_time">
<code class="descname">str_to_time</code><span class="sig-paren">(</span><em>time</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.FacebookGateway.FacebookServiceGateway.str_to_time" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Internal function.
Used to convert Facebook&#8217;s ISO-8601 date/time into a Date/Time object.
Also converts Facebook&#8217;s MM/DD/YYYY format used for birthdays.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>time</strong> (<em>str</em>) &#8211; The string to parse.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A Date/Time object.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="prisoner.gateway.FacebookGateway.Friends">
<em class="property">class </em><code class="descclassname">prisoner.gateway.FacebookGateway.</code><code class="descname">Friends</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Friends" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="prisoner.html#prisoner.SocialObjects.Collection" title="prisoner.SocialObjects.Collection"><code class="xref py py-class docutils literal"><span class="pre">prisoner.SocialObjects.Collection</span></code></a></p>
<p>Lightweight collection class for representing collections of users / friends.</p>
</dd></dl>

<dl class="class">
<dt id="prisoner.gateway.FacebookGateway.Like">
<em class="property">class </em><code class="descclassname">prisoner.gateway.FacebookGateway.</code><code class="descname">Like</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Like" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#prisoner.gateway.FacebookGateway.Page" title="prisoner.gateway.FacebookGateway.Page"><code class="xref py py-class docutils literal"><span class="pre">prisoner.gateway.FacebookGateway.Page</span></code></a></p>
<p>A Like is just a representation of a Page</p>
</dd></dl>

<dl class="class">
<dt id="prisoner.gateway.FacebookGateway.Likes">
<em class="property">class </em><code class="descclassname">prisoner.gateway.FacebookGateway.</code><code class="descname">Likes</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Likes" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="prisoner.html#prisoner.SocialObjects.Collection" title="prisoner.SocialObjects.Collection"><code class="xref py py-class docutils literal"><span class="pre">prisoner.SocialObjects.Collection</span></code></a></p>
<p>Lightweight collection class for representing collections of likes.</p>
</dd></dl>

<dl class="class">
<dt id="prisoner.gateway.FacebookGateway.Movie">
<em class="property">class </em><code class="descclassname">prisoner.gateway.FacebookGateway.</code><code class="descname">Movie</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Movie" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#prisoner.gateway.FacebookGateway.Page" title="prisoner.gateway.FacebookGateway.Page"><code class="xref py py-class docutils literal"><span class="pre">prisoner.gateway.FacebookGateway.Page</span></code></a></p>
<p>Stub for representing music.</p>
</dd></dl>

<dl class="class">
<dt id="prisoner.gateway.FacebookGateway.Music">
<em class="property">class </em><code class="descclassname">prisoner.gateway.FacebookGateway.</code><code class="descname">Music</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Music" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#prisoner.gateway.FacebookGateway.Page" title="prisoner.gateway.FacebookGateway.Page"><code class="xref py py-class docutils literal"><span class="pre">prisoner.gateway.FacebookGateway.Page</span></code></a></p>
<p>Stub for representing music.</p>
</dd></dl>

<dl class="class">
<dt id="prisoner.gateway.FacebookGateway.Page">
<em class="property">class </em><code class="descclassname">prisoner.gateway.FacebookGateway.</code><code class="descname">Page</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Page" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="prisoner.html#prisoner.SocialObjects.SocialObject" title="prisoner.SocialObjects.SocialObject"><code class="xref py py-class docutils literal"><span class="pre">prisoner.SocialObjects.SocialObject</span></code></a></p>
<p>Representation of a generic Facebook page / object.
Pages are used to represent entities like bands, books, films and so on.</p>
<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.Page.category">
<code class="descname">category</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Page.category" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.Page.image">
<code class="descname">image</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Page.image" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="prisoner.gateway.FacebookGateway.Photo">
<em class="property">class </em><code class="descclassname">prisoner.gateway.FacebookGateway.</code><code class="descname">Photo</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Photo" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="prisoner.html#prisoner.SocialObjects.Image" title="prisoner.SocialObjects.Image"><code class="xref py py-class docutils literal"><span class="pre">prisoner.SocialObjects.Image</span></code></a></p>
<p>Representation of a photo object on Facebook.
Photos are images uploaded by users or applications. As well as the standard attributes inherited from SocialObject,
a photo also has additional specialised attributes such as position, width and height.
A photo also contains Image() objects to represent both the full-size image as well as thumbnails.</p>
<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.Photo.comments">
<code class="descname">comments</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Photo.comments" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The comments on this photo.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.Photo.height">
<code class="descname">height</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Photo.height" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The height of this photo. (Pixels)</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.Photo.image">
<code class="descname">image</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Photo.image" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The full size version of this photo.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.Photo.likes">
<code class="descname">likes</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Photo.likes" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The people who&#8217;ve liked this photo.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.Photo.position">
<code class="descname">position</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Photo.position" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Position of this photo in its album.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.Photo.tags">
<code class="descname">tags</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Photo.tags" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The people who are tagged in this photo.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.Photo.thumbnail">
<code class="descname">thumbnail</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Photo.thumbnail" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The thumbnail image for this photo.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.Photo.width">
<code class="descname">width</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Photo.width" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The width of this photo. (Pixels)</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="prisoner.gateway.FacebookGateway.Photos">
<em class="property">class </em><code class="descclassname">prisoner.gateway.FacebookGateway.</code><code class="descname">Photos</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Photos" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="prisoner.html#prisoner.SocialObjects.Collection" title="prisoner.SocialObjects.Collection"><code class="xref py py-class docutils literal"><span class="pre">prisoner.SocialObjects.Collection</span></code></a></p>
<p>Lightweight collection class for representing collections of photos.</p>
</dd></dl>

<dl class="class">
<dt id="prisoner.gateway.FacebookGateway.Status">
<em class="property">class </em><code class="descclassname">prisoner.gateway.FacebookGateway.</code><code class="descname">Status</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Status" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="prisoner.html#prisoner.SocialObjects.Note" title="prisoner.SocialObjects.Note"><code class="xref py py-class docutils literal"><span class="pre">prisoner.SocialObjects.Note</span></code></a></p>
<p>Representation of a status object on Facebook.
Status updates are short posts by Facebook users. They can either be entirely textual or contain a link or a photo.
As well as the basic attributes, status updates also contain a privacy setting as well as a collection of likes and
comments.</p>
<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.Status.comments">
<code class="descname">comments</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Status.comments" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The comments on this status update.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.Status.likes">
<code class="descname">likes</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Status.likes" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The people who liked this status update.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.Status.link">
<code class="descname">link</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Status.link" title="Permalink to this definition">Â¶</a></dt>
<dd><p>A link to an external resource embedded in this status update</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.Status.privacy">
<code class="descname">privacy</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Status.privacy" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The privacy setting for this status update. (Eg: Friends)</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="prisoner.gateway.FacebookGateway.StatusList">
<em class="property">class </em><code class="descclassname">prisoner.gateway.FacebookGateway.</code><code class="descname">StatusList</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.StatusList" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="prisoner.html#prisoner.SocialObjects.Collection" title="prisoner.SocialObjects.Collection"><code class="xref py py-class docutils literal"><span class="pre">prisoner.SocialObjects.Collection</span></code></a></p>
<p>Lightweight collection class for representing collections of statuses.</p>
</dd></dl>

<dl class="class">
<dt id="prisoner.gateway.FacebookGateway.Tags">
<em class="property">class </em><code class="descclassname">prisoner.gateway.FacebookGateway.</code><code class="descname">Tags</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.Tags" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="prisoner.html#prisoner.SocialObjects.Collection" title="prisoner.SocialObjects.Collection"><code class="xref py py-class docutils literal"><span class="pre">prisoner.SocialObjects.Collection</span></code></a></p>
<p>Lightweight collection class for representing collections of tags.
Tags are simply User() objects that have been tagged in a photo or status.</p>
</dd></dl>

<dl class="class">
<dt id="prisoner.gateway.FacebookGateway.User">
<em class="property">class </em><code class="descclassname">prisoner.gateway.FacebookGateway.</code><code class="descname">User</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.User" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="prisoner.html#prisoner.SocialObjects.Person" title="prisoner.SocialObjects.Person"><code class="xref py py-class docutils literal"><span class="pre">prisoner.SocialObjects.Person</span></code></a></p>
<p>Representation of a user object on Facebook.
Users are essentially the backbone of the Facebook service and such objects can contain a great deal of information.
User objects will not always have values for all their attributes, as Facebook does not require users to provide
allthis information.</p>
<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.User.bio">
<code class="descname">bio</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.User.bio" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This person&#8217;s short biography.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.User.birthday">
<code class="descname">birthday</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.User.birthday" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This person&#8217;s birthday.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.User.education">
<code class="descname">education</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.User.education" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This person&#8217;s education history.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.User.email">
<code class="descname">email</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.User.email" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This person&#8217;s email address.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.User.firstName">
<code class="descname">firstName</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.User.firstName" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This person&#8217;s first name.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.User.gender">
<code class="descname">gender</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.User.gender" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This person&#8217;s gender.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.User.hometown">
<code class="descname">hometown</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.User.hometown" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This person&#8217;s hometown.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.User.interestedIn">
<code class="descname">interestedIn</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.User.interestedIn" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This person&#8217;s sexual orientation.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.User.languages">
<code class="descname">languages</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.User.languages" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Languages this person can speak.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.User.lastName">
<code class="descname">lastName</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.User.lastName" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This person&#8217;s last name.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.User.location">
<code class="descname">location</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.User.location" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This person&#8217;s current location.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.User.middleName">
<code class="descname">middleName</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.User.middleName" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This person&#8217;s middle name.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.User.politicalViews">
<code class="descname">politicalViews</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.User.politicalViews" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This person&#8217;s political preferences.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.User.relationshipStatus">
<code class="descname">relationshipStatus</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.User.relationshipStatus" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This person&#8217;s relationship status.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.User.religion">
<code class="descname">religion</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.User.religion" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This person&#8217;s religion.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.User.significantOther">
<code class="descname">significantOther</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.User.significantOther" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This person&#8217;s significant other.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.User.timezone">
<code class="descname">timezone</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.User.timezone" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This person&#8217;s timezone. (Offset from UTC)</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.User.updatedTime">
<code class="descname">updatedTime</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.User.updatedTime" title="Permalink to this definition">Â¶</a></dt>
<dd><p>When this person last updated their Facebook profile.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.User.username">
<code class="descname">username</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.User.username" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This person&#8217;s Facebook username.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.FacebookGateway.User.work">
<code class="descname">work</code><a class="headerlink" href="#prisoner.gateway.FacebookGateway.User.work" title="Permalink to this definition">Â¶</a></dt>
<dd><p>This person&#8217;s work history.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="prisoner.gateway.FacebookGateway.check_none">
<code class="descclassname">prisoner.gateway.FacebookGateway.</code><code class="descname">check_none</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.FacebookGateway.check_none" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Internal function.
Used to check to see whether or not a value is None. If so, it replaces it with N/A.
Mainly used for testing and creating string representations.</p>
</dd></dl>

</div>
<div class="section" id="module-prisoner.gateway.LastfmGateway">
<span id="prisoner-gateway-lastfmgateway-module"></span><h2>prisoner.gateway.LastfmGateway module<a class="headerlink" href="#module-prisoner.gateway.LastfmGateway" title="Permalink to this headline">Â¶</a></h2>
<dl class="class">
<dt id="prisoner.gateway.LastfmGateway.LastfmServiceGateway">
<em class="property">class </em><code class="descclassname">prisoner.gateway.LastfmGateway.</code><code class="descname">LastfmServiceGateway</code><span class="sig-paren">(</span><em>access_token=None</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.LastfmGateway.LastfmServiceGateway" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#prisoner.gateway.ServiceGateway.ServiceGateway" title="prisoner.gateway.ServiceGateway.ServiceGateway"><code class="xref py py-class docutils literal"><span class="pre">prisoner.gateway.ServiceGateway.ServiceGateway</span></code></a></p>
<p>ServiceGateway for Last.fm. This is a concrete implementation to
demonstrate how to build experimental applications which consume data from, and
publish data to, Last.fm</p>
<p>This ServiceGateway supports a number of core Social Objects, and
introduces a range of its own to represent site-specific constructs such as
Tracks and Playlists, etc.</p>
<p>This gateway uses a modified version of pylast to interact with Last.fm
API</p>
<dl class="method">
<dt id="prisoner.gateway.LastfmGateway.LastfmServiceGateway.Comment">
<code class="descname">Comment</code><span class="sig-paren">(</span><em>operation</em>, <em>payload</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.LastfmGateway.LastfmServiceGateway.Comment" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Performs operations on Comment objects. Supports GET and
POST operations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>operation</strong> (<em>str</em>) &#8211; The operation to perform (GET, POST)</li>
<li><strong>payload</strong> (<a class="reference internal" href="prisoner.html#prisoner.SocialObjects.SocialObject" title="prisoner.SocialObjects.SocialObject"><em>SocialObject</em></a>) &#8211; Provide a Comment object. Will be posted as a shout to
the profile of the inReplyTo attribute.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.LastfmGateway.LastfmServiceGateway.Image">
<code class="descname">Image</code><span class="sig-paren">(</span><em>operation</em>, <em>payload</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.LastfmGateway.LastfmServiceGateway.Image" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Performs operations on Image objects. Only supports GET
operations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>operation</strong> (<em>str</em>) &#8211; The operation to perform (GET)</li>
<li><strong>payload</strong> (<a class="reference internal" href="prisoner.html#prisoner.SocialObjects.SocialObject" title="prisoner.SocialObjects.SocialObject"><em>SocialObject</em></a>) &#8211; Provide a Person object, to return that user&#8217;s profile
image</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>:returns Image &#8211; image of requested object</p>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.LastfmGateway.LastfmServiceGateway.Playlist">
<code class="descname">Playlist</code><span class="sig-paren">(</span><em>operation</em>, <em>payload</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.LastfmGateway.LastfmServiceGateway.Playlist" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="prisoner.gateway.LastfmGateway.LastfmServiceGateway.Session">
<code class="descname">Session</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.LastfmGateway.LastfmServiceGateway.Session" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The Last.fm session exposes the authenticated
user as a Person instance</p>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.LastfmGateway.LastfmServiceGateway.Track">
<code class="descname">Track</code><span class="sig-paren">(</span><em>operation</em>, <em>payload</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.LastfmGateway.LastfmServiceGateway.Track" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Performs operations on Track objects. Only supports the GET
operation (you can get a user&#8217;s tracks, you can&#8217;t create them).</p>
<p>Returns a set of Tracks depending on the payload.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>operation</strong> (<em>str</em>) &#8211; The operation to perform (GET)</li>
<li><strong>payload</strong> (<a class="reference internal" href="prisoner.html#prisoner.SocialObjects.SocialObject" title="prisoner.SocialObjects.SocialObject"><em>SocialObject</em></a>) &#8211; Provide a Person (whose id is username) to return a set
of that user&#8217;s Loved Tracks</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">list[track] - set of tracks matching criteria</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.LastfmGateway.LastfmServiceGateway.complete_authentication">
<code class="descname">complete_authentication</code><span class="sig-paren">(</span><em>request</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.LastfmGateway.LastfmServiceGateway.complete_authentication" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Completes authentication. Request passed via authentication flow
must contain a token argument as returned by Last.fm. We pass this to Last.fm to
return a session key (lasts indefinitely) for making authenticated calls on this
user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>request</strong> (<em>HTTPRequest</em>) &#8211; Request from first stage of authentication</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Session key to persist for this user</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.LastfmGateway.LastfmServiceGateway.request_authentication">
<code class="descname">request_authentication</code><span class="sig-paren">(</span><em>callback</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.LastfmGateway.LastfmServiceGateway.request_authentication" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Instigates first of Last.fm&#8217;s two-stage authentication.
Returns a URL for the participant to confirm access to their profile by this
application.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>callback</strong> (<em>str</em>) &#8211; PRISONER&#8217;s authentication flow URL. The
participant must go here after authenticating with Last.fm to continue the flow</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.LastfmGateway.LastfmServiceGateway.restore_authentication">
<code class="descname">restore_authentication</code><span class="sig-paren">(</span><em>access_token</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.LastfmGateway.LastfmServiceGateway.restore_authentication" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Restores previously authenticated session. Last.fm session
keys last indefinitely so this just provides pylast with the old session key and
hope it works</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>access_token</strong> (<em>str</em>) &#8211; Last.fm session key received from previous
auth attempt</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">boolean - was auth successful?</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="prisoner.gateway.LastfmGateway.Playlist">
<em class="property">class </em><code class="descclassname">prisoner.gateway.LastfmGateway.</code><code class="descname">Playlist</code><a class="headerlink" href="#prisoner.gateway.LastfmGateway.Playlist" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="prisoner.html#prisoner.SocialObjects.Collection" title="prisoner.SocialObjects.Collection"><code class="xref py py-class docutils literal"><span class="pre">prisoner.SocialObjects.Collection</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="prisoner.gateway.LastfmGateway.Track">
<em class="property">class </em><code class="descclassname">prisoner.gateway.LastfmGateway.</code><code class="descname">Track</code><a class="headerlink" href="#prisoner.gateway.LastfmGateway.Track" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="prisoner.html#prisoner.SocialObjects.SocialObject" title="prisoner.SocialObjects.SocialObject"><code class="xref py py-class docutils literal"><span class="pre">prisoner.SocialObjects.SocialObject</span></code></a></p>
<dl class="attribute">
<dt id="prisoner.gateway.LastfmGateway.Track.artist">
<code class="descname">artist</code><a class="headerlink" href="#prisoner.gateway.LastfmGateway.Track.artist" title="Permalink to this definition">Â¶</a></dt>
<dd><p>String identifying artist of this track.</p>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.LastfmGateway.Track.get_friendly_name">
<code class="descname">get_friendly_name</code><span class="sig-paren">(</span><em>attribute</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.LastfmGateway.Track.get_friendly_name" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.LastfmGateway.Track.tag">
<code class="descname">tag</code><a class="headerlink" href="#prisoner.gateway.LastfmGateway.Track.tag" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Set of tags associated with this track</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.LastfmGateway.Track.title">
<code class="descname">title</code><a class="headerlink" href="#prisoner.gateway.LastfmGateway.Track.title" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The title of this track.</p>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.LastfmGateway.Track.transform_artist">
<code class="descname">transform_artist</code><span class="sig-paren">(</span><em>transformation</em>, <em>level</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.LastfmGateway.Track.transform_artist" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Applies anonymising transformation to the artist attribute.
Uses the base_transform_name transformation</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-prisoner.gateway.ServiceGateway">
<span id="prisoner-gateway-servicegateway-module"></span><h2>prisoner.gateway.ServiceGateway module<a class="headerlink" href="#module-prisoner.gateway.ServiceGateway" title="Permalink to this headline">Â¶</a></h2>
<dl class="class">
<dt id="prisoner.gateway.ServiceGateway.SARHeaders">
<em class="property">class </em><code class="descclassname">prisoner.gateway.ServiceGateway.</code><code class="descname">SARHeaders</code><span class="sig-paren">(</span><em>operation</em>, <em>provider</em>, <em>object_type</em>, <em>payload</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.ServiceGateway.SARHeaders" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>SARHeaders contain information about the request for a SocialObject.
They are used within the validation/sanitisation process as part of a
SocialActivityResponse. They may also be used to audit the requests made for
objects.</p>
<dl class="attribute">
<dt id="prisoner.gateway.ServiceGateway.SARHeaders.object_type">
<code class="descname">object_type</code><a class="headerlink" href="#prisoner.gateway.ServiceGateway.SARHeaders.object_type" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The name of the SocialObject type to use. This must be a
core SocialObject or provided by the ServiceGateway indicated in the provider
attribute.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.ServiceGateway.SARHeaders.operation">
<code class="descname">operation</code><a class="headerlink" href="#prisoner.gateway.ServiceGateway.SARHeaders.operation" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The operation to be performed by this request. These map to
HTTP methods (GET, POST etc.)</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.ServiceGateway.SARHeaders.payload">
<code class="descname">payload</code><a class="headerlink" href="#prisoner.gateway.ServiceGateway.SARHeaders.payload" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The criteria for a request, or object to publish.</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.ServiceGateway.SARHeaders.provider">
<code class="descname">provider</code><a class="headerlink" href="#prisoner.gateway.ServiceGateway.SARHeaders.provider" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The provider this request is intended for. Must map to a
ServiceGateway</p>
</dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.ServiceGateway.SARHeaders.wrapped_headers">
<code class="descname">wrapped_headers</code><a class="headerlink" href="#prisoner.gateway.ServiceGateway.SARHeaders.wrapped_headers" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The header component of a WrappedResponse. Allows service-specific headers
to be surfaced</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="prisoner.gateway.ServiceGateway.ServiceGateway">
<em class="property">class </em><code class="descclassname">prisoner.gateway.ServiceGateway.</code><code class="descname">ServiceGateway</code><span class="sig-paren">(</span><em>props={}</em>, <em>policy=None</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.ServiceGateway.ServiceGateway" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Service Gateways make external providers of social data accessible to
the rest of PRISONER. They accept sanitised requests for Social Objects, and
make the appropriate API calls to return well-formed social objects. They also
accept requests to publish social objects to services, converting these to the
representations expected by that API.</p>
<p>This is an abstract interface - concrete implementations subclass this
and provide methods corresponding to each Social Object they implement,
with the signature def ObjectType(self, operation, payload).</p>
<p>See examples of concrete implementations for examples of this.</p>
<p>ServiceGateways must adhere to the following conventions:</p>
<ul class="simple">
<li>exist as a package &lt;GatewayName&gt;ServiceGateway.py within the gateway
module</li>
<li>contain a class called &lt;GatewayName&gt;ServiceGateway which subclasses
ServiceGateway</li>
</ul>
<p>NEW in 0.2: ServiceGateways should expect a props dict in __init__, populated
by an experiment&#8217;s design policy, and a policy parameter with an instance of
PolicyProcessor, allowing the experiment&#8217;s privacy policy to be interrogated.</p>
<p>NEW in 0.2: All gateways must implement a request_handler() - or use the
superclass-provided implementation. This allows a dictionary of response
headers to be added by the service gateway, provided to a WrappedResponse
object.</p>
<dl class="method">
<dt id="prisoner.gateway.ServiceGateway.ServiceGateway.Image">
<code class="descname">Image</code><span class="sig-paren">(</span><em>operation</em>, <em>payload</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.ServiceGateway.ServiceGateway.Image" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Perform operations on ServiceGateway to publish and retrieve
Image objects</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>operation</strong> (<em>str</em>) &#8211; The operation to perform (eg. GET, POST)</li>
<li><strong>payload</strong> (<a class="reference internal" href="prisoner.html#prisoner.SocialObjects.SocialObject" title="prisoner.SocialObjects.SocialObject"><em>SocialObject</em></a>) &#8211; Object to perform operation with, eg. GET
objects matching criteria, or POST this object to service</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.ServiceGateway.ServiceGateway.Session">
<code class="descname">Session</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.ServiceGateway.ServiceGateway.Session" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Each ServiceGateway can maintain a Session object, which
contains limited information that is needed to persist throughout the session
with the service. This should <em>not</em> be used as a way of caching social objects
to circumvent the usual GetObject interface. The session is intended to store,
for example, metadata about the authenticated participant so that it is possible
to relate the participant to their service username, etc.</p>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.ServiceGateway.ServiceGateway.complete_authentication">
<code class="descname">complete_authentication</code><span class="sig-paren">(</span><em>request</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.ServiceGateway.ServiceGateway.complete_authentication" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Second stage of authentication. Request contains the
response from the client-side authentication, which should
contain access tokens required to complete the authentication process.</p>
<p>Do not implement this method if the service does not perform
authenticated requests.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>request</strong> (<em>HTTPRequest</em>) &#8211; Request with clientside authentication tokens</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.ServiceGateway.ServiceGateway.request_authentication">
<code class="descname">request_authentication</code><span class="sig-paren">(</span><em>callback=None</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.ServiceGateway.ServiceGateway.request_authentication" title="Permalink to this definition">Â¶</a></dt>
<dd><p>First stage of two-stage authentication. Participation
client has requested that participant is authenticated with this service.</p>
<p>For most authentication schemes, return a URL the participant can visit to
authenticate themselves with the service. After completing this stage, the user
must be redirected to the callback URL.</p>
<p>Do not implement this method if the service does not perform
authenticated requests.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>callback</strong> (<em>str</em>) &#8211; URL that PRISONER has determined participant
must visit after authenticating with service.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.ServiceGateway.ServiceGateway.request_handler">
<code class="descname">request_handler</code><span class="sig-paren">(</span><em>request</em>, <em>operation</em>, <em>payload</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.ServiceGateway.ServiceGateway.request_handler" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="prisoner.gateway.ServiceGateway.ServiceGateway.restore_authentication">
<code class="descname">restore_authentication</code><span class="sig-paren">(</span><em>access_token</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.ServiceGateway.ServiceGateway.restore_authentication" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Similar to complete_authentication(), except directly
providing the access token needed by the gateway to restore an existing session.
We can&#8217;t guarantee the token is still valid, so the gateway should return a
boolean value to indicate whether the attempt was successful. If not, it may be
necessary to complete the clientside request/complete flow.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>access_token</strong> (<em>object</em>) &#8211; Object needed by service gateway to restore
authentication</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">boolean - was authentication attempt succesful?</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="prisoner.gateway.ServiceGateway.SocialActivityResponse">
<em class="property">class </em><code class="descclassname">prisoner.gateway.ServiceGateway.</code><code class="descname">SocialActivityResponse</code><span class="sig-paren">(</span><em>content</em>, <em>headers</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.ServiceGateway.SocialActivityResponse" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>SocialActivityResponse wraps a SocialObject received from a service
gateway. It provides the original object alongside headers relating to the
request from the participation clients. These headers are used to validate the
request, and sanitise the response object.</p>
<dl class="attribute">
<dt id="prisoner.gateway.ServiceGateway.SocialActivityResponse.content">
<code class="descname">content</code><a class="headerlink" href="#prisoner.gateway.ServiceGateway.SocialActivityResponse.content" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.ServiceGateway.SocialActivityResponse.headers">
<code class="descname">headers</code><a class="headerlink" href="#prisoner.gateway.ServiceGateway.SocialActivityResponse.headers" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="prisoner.gateway.ServiceGateway.WrappedResponse">
<em class="property">class </em><code class="descclassname">prisoner.gateway.ServiceGateway.</code><code class="descname">WrappedResponse</code><span class="sig-paren">(</span><em>social_object</em>, <em>headers</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.ServiceGateway.WrappedResponse" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>A Social Object returned by a service gateway is wrapped in this object
which allows the gateway to inject additional metadata to be handled elsewhere</p>
<dl class="attribute">
<dt id="prisoner.gateway.ServiceGateway.WrappedResponse.headers">
<code class="descname">headers</code><a class="headerlink" href="#prisoner.gateway.ServiceGateway.WrappedResponse.headers" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="prisoner.gateway.ServiceGateway.WrappedResponse.social_object">
<code class="descname">social_object</code><a class="headerlink" href="#prisoner.gateway.ServiceGateway.WrappedResponse.social_object" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-prisoner.gateway.TwitterGateway">
<span id="prisoner-gateway-twittergateway-module"></span><h2>prisoner.gateway.TwitterGateway module<a class="headerlink" href="#module-prisoner.gateway.TwitterGateway" title="Permalink to this headline">Â¶</a></h2>
<dl class="class">
<dt id="prisoner.gateway.TwitterGateway.Timeline">
<em class="property">class </em><code class="descclassname">prisoner.gateway.TwitterGateway.</code><code class="descname">Timeline</code><a class="headerlink" href="#prisoner.gateway.TwitterGateway.Timeline" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="prisoner.html#prisoner.SocialObjects.Person" title="prisoner.SocialObjects.Person"><code class="xref py py-class docutils literal"><span class="pre">prisoner.SocialObjects.Person</span></code></a></p>
<p>Representation of a user object on Facebook.
Users are essentially the backbone of the Facebook service and such objects can contain a great deal of information.
User objects will not always have values for all their attributes, as Facebook does not require users to provide 
allthis information.</p>
<dl class="attribute">
<dt id="prisoner.gateway.TwitterGateway.Timeline.id">
<code class="descname">id</code><a class="headerlink" href="#prisoner.gateway.TwitterGateway.Timeline.id" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="prisoner.gateway.TwitterGateway.TwitterServiceGateway">
<em class="property">class </em><code class="descclassname">prisoner.gateway.TwitterGateway.</code><code class="descname">TwitterServiceGateway</code><a class="headerlink" href="#prisoner.gateway.TwitterGateway.TwitterServiceGateway" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#prisoner.gateway.ServiceGateway.ServiceGateway" title="prisoner.gateway.ServiceGateway.ServiceGateway"><code class="xref py py-class docutils literal"><span class="pre">prisoner.gateway.ServiceGateway.ServiceGateway</span></code></a></p>
<p>Service Gateway for Twitter.</p>
<p>This gateway supports reading a user&#8217;s timeline and publishing tweets on
their behalf, with support for geo-tagged content.</p>
<dl class="method">
<dt id="prisoner.gateway.TwitterGateway.TwitterServiceGateway.Session">
<code class="descname">Session</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.TwitterGateway.TwitterServiceGateway.Session" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The Facebook session exposes the authenticated user as an instance of User().
Can also be accessed in the same way as Person() as this class simply extends it.</p>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.TwitterGateway.TwitterServiceGateway.Timeline">
<code class="descname">Timeline</code><span class="sig-paren">(</span><em>operation</em>, <em>payload</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.TwitterGateway.TwitterServiceGateway.Timeline" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Performs operations relating to people&#8217;s musical tastes.
Currently only supports GET operations, so we can just get the bands a person / user likes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>operation</strong> (<em>str</em>) &#8211; The operation to perform. (GET)</li>
<li><strong>payload</strong> (<a class="reference internal" href="prisoner.html#prisoner.SocialObjects.SocialObject" title="prisoner.SocialObjects.SocialObject"><em>SocialObject</em></a>) &#8211; A User() or Person() whose ID is either a Facebook UID or username.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A list of the bands this person likes.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.TwitterGateway.TwitterServiceGateway.complete_authentication">
<code class="descname">complete_authentication</code><span class="sig-paren">(</span><em>request</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.TwitterGateway.TwitterServiceGateway.complete_authentication" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Completes authentication. Extracts the &#8220;code&#8221; param that Facebook provided and exchanges it for an
access token so we can make authenticated calls on behalf of the user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>request</strong> (<em>HTTPRequest</em>) &#8211; Response from the first stage of authentication.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Unique access token that should persist for this user.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="prisoner.gateway.TwitterGateway.TwitterServiceGateway.request_authentication">
<code class="descname">request_authentication</code><span class="sig-paren">(</span><em>callback</em><span class="sig-paren">)</span><a class="headerlink" href="#prisoner.gateway.TwitterGateway.TwitterServiceGateway.request_authentication" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Initiates Facebook&#8217;s authentication process.
Returns a URI at which the user can confirm access to their profile by the application.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>callback</strong> &#8211; PRISONER&#8217;s authentication flow URL. User must be redirected here after registering with Facebook</td>
</tr>
</tbody>
</table>
<p>in order to continue the flow.
:type callback: str
:return: URI the user must visit in order to authenticate.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-prisoner.gateway">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-prisoner.gateway" title="Permalink to this headline">Â¶</a></h2>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="prisoner.gateway.tests.html" class="btn btn-neutral float-right" title="prisoner.gateway.tests package" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="prisoner.html" class="btn btn-neutral" title="prisoner package" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Luke Hutton.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.2.3',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>