

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Best practices for distributing PRISONER experiments &mdash; PRISONER 0.2.3 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  

  
    <link rel="top" title="PRISONER 0.2.3 documentation" href="index.html"/>
        <link rel="up" title="Tutorials" href="tutorials.html"/>
        <link rel="next" title="prisoner package" href="prisoner.html"/>
        <link rel="prev" title="Writing your first experiment" href="tutorials.helloworld.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="index.html">
        

        
          
          <img src="_static/prisoner-logo.png" class="logo" />
        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="tutorials.html">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="tutorials.keyconcepts.html">Key concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.demo.html">Running the PRISONER demo</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials.demo.html#prerequisites">Prerequisites</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials.demo.html#facebook-app">Facebook app</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials.demo.html#twitter-app">Twitter app</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials.demo.html#docker">Docker</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tutorials.demo.html#start-the-docker-container">Start the Docker container</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials.demo.html#running-the-demo">Running the demo</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials.demo.html#modifying-the-demo">Modifying the demo</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials.demo.html#saving-data">Saving data</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials.demo.html#packaging-the-modified-demo">Packaging the modified demo</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.gettingstarted.html">Installing PRISONER</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials.gettingstarted.html#installing-prisoner-for-local-development">Installing PRISONER for local development</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials.gettingstarted.html#spin-up-a-docker-vm">Spin-up a Docker VM</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials.gettingstarted.html#clone-from-github">Clone from GitHub</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.helloworld.html">Writing your first experiment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials.helloworld.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials.helloworld.html#in-this-tutorial">In this tutorial</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials.helloworld.html#privacy-policies">Privacy policies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials.helloworld.html#writing-the-privacy-policy">Writing the privacy policy</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tutorials.helloworld.html#experimental-designs">Experimental designs</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Best practices for distributing PRISONER experiments</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sharing-code-and-prisoner-policies">1) Sharing code and PRISONER policies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#forking-prisoner-on-github">2) Forking PRISONER on GitHub</a></li>
<li class="toctree-l3"><a class="reference internal" href="#release-a-virtual-machine-image">3) Release a virtual machine image</a></li>
<li class="toctree-l3"><a class="reference internal" href="#final-thoughts">Final thoughts</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="prisoner.html">prisoner package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="prisoner.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="prisoner.gateway.html">prisoner.gateway package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="prisoner.gateway.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="prisoner.gateway.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="prisoner.gateway.html#module-prisoner.gateway.FacebookGateway">prisoner.gateway.FacebookGateway module</a></li>
<li class="toctree-l4"><a class="reference internal" href="prisoner.gateway.html#module-prisoner.gateway.LastfmGateway">prisoner.gateway.LastfmGateway module</a></li>
<li class="toctree-l4"><a class="reference internal" href="prisoner.gateway.html#module-prisoner.gateway.ServiceGateway">prisoner.gateway.ServiceGateway module</a></li>
<li class="toctree-l4"><a class="reference internal" href="prisoner.gateway.html#module-prisoner.gateway.TwitterGateway">prisoner.gateway.TwitterGateway module</a></li>
<li class="toctree-l4"><a class="reference internal" href="prisoner.gateway.html#module-prisoner.gateway">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="prisoner.persistence.html">prisoner.persistence package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="prisoner.persistence.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="prisoner.persistence.html#module-prisoner.persistence.PersistenceManager">prisoner.persistence.PersistenceManager module</a></li>
<li class="toctree-l4"><a class="reference internal" href="prisoner.persistence.html#module-prisoner.persistence">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="prisoner.server.html">prisoner.server package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="prisoner.server.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="prisoner.server.html#module-prisoner.server.webservice">prisoner.server.webservice module</a></li>
<li class="toctree-l4"><a class="reference internal" href="prisoner.server.html#module-prisoner.server">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="prisoner.tests.html">prisoner.tests package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="prisoner.tests.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="prisoner.tests.html#module-prisoner.tests.tests">prisoner.tests.tests module</a></li>
<li class="toctree-l4"><a class="reference internal" href="prisoner.tests.html#module-prisoner.tests">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="prisoner.workflow.html">prisoner.workflow package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="prisoner.workflow.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="prisoner.workflow.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="prisoner.workflow.html#module-prisoner.workflow.Exceptions">prisoner.workflow.Exceptions module</a></li>
<li class="toctree-l4"><a class="reference internal" href="prisoner.workflow.html#module-prisoner.workflow.ExperimentBuilder">prisoner.workflow.ExperimentBuilder module</a></li>
<li class="toctree-l4"><a class="reference internal" href="prisoner.workflow.html#prisoner-workflow-policydocumentgenerator-module">prisoner.workflow.PolicyDocumentGenerator module</a></li>
<li class="toctree-l4"><a class="reference internal" href="prisoner.workflow.html#module-prisoner.workflow.PolicyProcessor">prisoner.workflow.PolicyProcessor module</a></li>
<li class="toctree-l4"><a class="reference internal" href="prisoner.workflow.html#module-prisoner.workflow.SocialObjectGateway">prisoner.workflow.SocialObjectGateway module</a></li>
<li class="toctree-l4"><a class="reference internal" href="prisoner.workflow.html#module-prisoner.workflow">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="prisoner.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="prisoner.html#module-prisoner.SocialObjects">prisoner.SocialObjects module</a></li>
<li class="toctree-l2"><a class="reference internal" href="prisoner.html#module-prisoner">Module contents</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">PRISONER</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="tutorials.html">Tutorials</a> &raquo;</li>
      
    <li>Best practices for distributing PRISONER experiments</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/tutorials.distribute.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="best-practices-for-distributing-prisoner-experiments">
<h1>Best practices for distributing PRISONER experiments<a class="headerlink" href="#best-practices-for-distributing-prisoner-experiments" title="Permalink to this headline">¶</a></h1>
<p>PRISONER encourages reproducibility of social network studies, but in practice,
the ability for others to reproduce your experiments is dependent on what you are
willing to share with the community. Placing your code in an online archive or
public version control repository, via GitHub for example, is a good way of
letting others examine and run your code.</p>
<p>This approach, however, has some limitations. Distributing software in this way
does not make it easy to resolve package dependencies, and if others are not
running the same operating system as you, or other environmental variables
differ, it may be difficult or impossible to execute your experiment.</p>
<p>Specifically, if you are developing a PRISONER experiment, you will need to
distribute your PRISONER policies, and someone hoping to execute your experiment
needs to be able to understand how to setup and run an instance of PRISONER to
get things working.</p>
<p>In this guide we cover some best practices for distributing PRISONER
experiments, outlining a few scenarios which involve packaging your experiment
in different ways. Please note this guidance is not final and may not cover all
scenarios. We welcome
suggestions or improvements as GitHub issues or pull requests.</p>
<div class="section" id="sharing-code-and-prisoner-policies">
<h2>1) Sharing code and PRISONER policies<a class="headerlink" href="#sharing-code-and-prisoner-policies" title="Permalink to this headline">¶</a></h2>
<p>Making the source code for your experiment available online is a great
first step to allowing others to see how your experiment works, and reproduce
it. The Software Sustainability Institute provides <a class="reference external" href="http://software.ac.uk/resources/guides/choosing-repository-your-software-project">lots of guidance on this
subject</a>.</p>
<p>We recommend using GitHub, as you can <a class="reference external" href="https://guides.github.com/activities/citable-code/">assign a DOI to individual releases of
your
repository</a> using Zenodo,
which can make it easier for others to <a class="reference external" href="http://software.ac.uk/so-exactly-what-software-did-you-use">cite your experiment software</a>.</p>
<p>Within your repository, you should include the two PRISONER policy files
your experiment requires: the privacy policy and experimental design. While this
will not be sufficient for others to execute the experiment
without access to an instance of PRISONER itself, these policy files are an
excellent way of distributing a list of constraints about the data-handling
requirements of your experiment, which may not be obvious from the source code
alone.</p>
<p>Before distributing your experiment, please make sure your experimental design
file does not include any hard-coded API keys. In your documentation, make sure
you point out that users must supply their own API keys as necessary.</p>
<p>In the documentation for your project, linking to <a class="reference external" href="http://prisoner.cs.st-andrews.ac.uk">the PRISONER website</a> lets others find out more about the
framework, so they can choose whether to download it themselves in order to
execute the experiment.</p>
<p>Finally, we ask you to let us know that you&#8217;re sharing a PRISONER experiment,
which you can do by <a class="reference external" href="mailto:lh49[at]st-andrews&#46;ac&#46;uk">email</a> or <a class="reference external" href="http://twitter.com/EthicsPRISONER">Twitter</a>. It&#8217;s useful for us to be able to monitor
how widely used our tools are, and we can also give your experiment a shout-out
to help people find it!</p>
</div>
<div class="section" id="forking-prisoner-on-github">
<h2>2) Forking PRISONER on GitHub<a class="headerlink" href="#forking-prisoner-on-github" title="Permalink to this headline">¶</a></h2>
<p>While the above is clearly better than nothing, it falls a little short of our
reproducibility goal as it falls on anyone wishing to replicate your study to
manage their own instance of PRISONER.</p>
<p>One way to simplify this is to distribute your experiment as a fork of PRISONER
on GitHub, with your experiment-specific code added to the repository. This has
a number of advantages:</p>
<ul class="simple">
<li>Your experiment is clearly bound to a specific release of PRISONER avoiding issues with mismatched versions</li>
<li>If you have made any modifications to PRISONER, their relationship to the canonical version is easier to track, and you can also push changes upstream to help make PRISONER better!</li>
<li>The visibility of your experiment will be helped by its direct relationship to the base PRISONER repository, and we can help promote interesting uses of PRISONER to achieve better impact.</li>
<li>It helps us monitor usage of PRISONER with no additional effort on your part.</li>
<li>As your repository includes a full release of PRISONER, people don&#8217;t need to go to any further effort to get your experiment running.</li>
</ul>
</div>
<div class="section" id="release-a-virtual-machine-image">
<h2>3) Release a virtual machine image<a class="headerlink" href="#release-a-virtual-machine-image" title="Permalink to this headline">¶</a></h2>
<p>If your experiment has complex software or environmental dependencies which can
impede distribution, you may wish to consider a virtual machine image, either as
a full VM (<a class="reference external" href="http://recomputation.org/resources">recomputation.org has guidance on
this</a>) or as a Docker image.</p>
<p>We recommend using <a class="reference external" href="https://docs.docker.com/articles/dockerfile_best-practices/">Docker</a> as you can
distribute a relatively lightweight image of your experimental code and PRISONER
policies, while expressing any other environmental dependencies. Anyone else
running Docker can then pull your image and instantiate a container with an
executable version of your experiment and PRISONER server.</p>
<p>A guide to using Docker is beyond the scope of this document, but to help you
get started, we provide PRISONER itself, and a separate working example, as
Docker images via Docker Hub. <a class="reference external" href="http://prisoner.cs.st-andrews.ac.uk/docs/tutorials.demo.html">This tutorial</a> explains how to
run our example Docker experiment. To see how we build this Docker image,
derived from a base PRISONER image see (TODO: deeplink to example on GitHub).</p>
<p>We recommend distributing both a PRISONER fork as above, and a Docker image
(either via Docker Hub or a private Docker registry). This approach has some
further advantages:</p>
<ul class="simple">
<li>Maximises the sustainability of your experiment, as most environmental dependencies have been abstracted from the user.</li>
<li>Consistency for the end-user. While each GitHub repository may have its own dependencies and installation procedures, once someone has learned how to pull and run one Docker image, they can run any experiment in the same manner.</li>
</ul>
</div>
<div class="section" id="final-thoughts">
<h2>Final thoughts<a class="headerlink" href="#final-thoughts" title="Permalink to this headline">¶</a></h2>
<p>In this guide, we&#8217;ve introduced a few ways you can distribute your PRISONER
experiments, which trade-offs between upfront complexity and the ease with which
others can reproduce your experiment. The scenarios we discuss here are based on
our own experience in conducting and distributing experiments, and should not be
considered the final word. Ultimately, you should choose whichever workflow
suits you, and please share your own recommendations with us and the community
via GitHub. We will update this document with alternative distribution
strategies which emerge.</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="prisoner.html" class="btn btn-neutral float-right" title="prisoner package" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="tutorials.helloworld.html" class="btn btn-neutral" title="Writing your first experiment" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Luke Hutton.
      Last updated on Sep 07, 2015.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.2.3',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>